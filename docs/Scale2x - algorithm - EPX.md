---
created: 2024-11-06T22:02:00 (UTC +03:00)
tags: [scale2x blit video effect]
source: https://www.scale2x.it/scale2xandepx
author: Andrea Mazzoleni
---

# Scale2x

> ## Excerpt
> Video scaling effect

---
After developing the Scale2x algorithm in the 2001 for the [AdvanceMAME](http://www.advancemame.it/) project, some years later, I found in the Wikipedia article [Pixel art scaling algorithms](http://en.wikipedia.org/wiki/Pixel_art_scaling_algorithms) that an already developed algorithm called EPX was producing the exact same result of Scale2x!

Really a surprise, as in fact, they are producing the same graphic effect despite the Scale2x algorithm definition is considerably different and faster!

The following is an extract of the MacTech article [Fast Blit Strategies: A Mac Programmer's Guide, vol15, issue6, 1999](http://www.mactech.com/articles/mactech/Vol.15/15.06/FastBlitStrategies/index.html) describing the EPX algorithm developed by Eric Johnston in the 1992 when working for LucasArts.

_Another common speed-multiplying technique is pixel doubling, which is where each pixel of the source image (whether it's a sprite, icon, underlay image, or whatever) is drawn as a 2x2 tile onscreen. Essentially, you're scaling a quarter-size image up to full size - hence, the potential exists for a 4:1 speed boost. The downside to this technique is that it gives a "chunky pixel" look that can be annoying; but there happens to be a useful workaround, in the form of the 'epx' antialiasing technique pioneered by LucasArts' Eric Johnston. Figure 1 shows how it works._

![EPX](data:image/gif;base64,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)

_The problem is this: how to scale pixel 'P' to be four times its original size, but without all four new pixels necessarily being the same color. (We want some antialiasing.) In Figure 1, the tic-tac-toe grid on the left represents the pixel 'P' and its north, south, east, and west neighbors in the source (offscreen buffer) image. The 2x2 tile on the right represents the new (onscreen) pixels, which will derive from P. The question is how to color P1, P2, P3, and P4 without giving the "chunky pixel" look._

_The answer is to base P1 on the back-buffer pixels 'A' and 'C'; base P2 on 'A' and 'B'; base P3 on 'C' and 'D'; and base P4 on 'D' and 'B'. We say that 'A' and 'C' are the "parents" of P1, 'D' and 'B' are the parents of P4, etc., and likewise, P1 is the child of 'A' and 'C', and so forth. The rule to follow is this: <u>If any two parents are equal in color, then make the child that color. Otherwise, let the child be the color of 'P'. Also, if at least three of the parents (A, B, C, D) are identical, do nothing: just let P1 = P2 = P3 = P4 = P. </u> (Johnston discusses this technique on page 692 of Tricks of the Mac Game Programming Gurus, Hayden Books, 1995.)_
